(this.webpackJsonpheroesapp=this.webpackJsonpheroesapp||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(22),c=a.n(r),o=a(3),s=a(28),i=a(4),l=a(14),d=a.n(l),u=a(19),m=a(23),j=a.n(m),p=a(20),b=a.n(p),h="[Auth] Login",g="[Auth] Logout",O="[Auth] Check",x="[Modal] Open Search",f="[Modal] Close Search",v="[ModalInfo] Open Info",N="[ModalInfo] Close Info",y="[Heroes] Search",w="[Heroe] Equipo",k="[Heroe] Eliminado",I=function(e){return{type:h,payload:{logueado:e}}},E=function(){return{type:g,payload:{logueado:!1}}},_=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j()("https://superheroapi.com/api.php/10227697953733690/search/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(e){return{type:y,payload:{heroes:e}}},S=a(21),A=a.n(S),C=function(){return{type:f,payload:{openModal:!1}}},F=a(1),M={content:{color:"black",top:"50%",left:"50%",right:"auto",bottom:"auto"}};A.a.setAppElement("#root");var R=function(){var e=Object(o.c)((function(e){return e.modalInfo})).modalInfo,t=localStorage.getItem("heroeDetalle"),a=JSON.parse(t),n=Object(o.b)();return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(A.a,{isOpen:e,onRequestClose:function(){n({type:N,payload:{modalInfo:!1}})},style:M,closeTimeoutMS:200,className:"modal-info bg-ligth",overlayClassName:"modal-fondo",children:a&&Object(F.jsxs)("div",{className:"row g-0",children:[Object(F.jsx)("h1",{children:"Informacion del Heroe"}),Object(F.jsx)("div",{className:"col-md-6",children:Object(F.jsx)("img",{src:a.image.url,className:"img-fluid rounded-start",alt:"..."})}),Object(F.jsx)("div",{className:"col-md-6",children:Object(F.jsxs)("div",{className:"card-body",children:[Object(F.jsxs)("p",{className:"card-text",children:["Nombre:           ",a.name," "]}),Object(F.jsxs)("p",{className:"card-text",children:["Peso:             ",a.appearance.weight[1]]}),Object(F.jsxs)("p",{className:"card-text",children:["Altura:           ",a.appearance.height[1],"  "]}),Object(F.jsxs)("p",{className:"card-text",children:["Alias:            ",a.biography.aliases[0]]}),Object(F.jsxs)("p",{className:"card-text",children:["Lugar de Trabajo: ",a.work.occupation]})]})})]})})})},H=a(6),D=a(13),J=function(e){var t=e.id,a=e.connections,n=e.appearance,r=e.biography,c=e.image,s=e.name,i=e.powerstats,l=e.work,d=Object(o.b)(),u={id:t,connections:a,appearance:n,biography:r,image:c,name:s,powerstats:i,work:l};return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"card mr-3 m-3 col-3",children:[Object(F.jsx)("h5",{className:"card-title",children:s}),Object(F.jsx)("img",{src:c.url,className:"card-img-top",alt:"..."}),Object(F.jsx)("div",{className:"card-body",children:Object(F.jsx)("p",{className:"card-text",children:r.alignment})}),Object(F.jsx)("button",{className:"btn btn-primary m-3",onClick:function(){d({type:w,payload:{heroesEquipo:u}}),d(C())},children:"Agregar al equipo"})]})})},B=(a(51),{content:{color:"black",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}});A.a.setAppElement("#root");var L=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.modal})).openModal,a=Object(o.c)((function(e){return e.search})).heroes;return Object(F.jsxs)(A.a,{isOpen:t,onRequestClose:function(){e(C())},style:B,closeTimeoutMS:200,className:"modal bg-dark justify-content-center",overlayClassName:"modal-fondo",children:[Object(F.jsx)(D.d,{initialValues:{heroe:""},validate:function(e){var t={};return e.heroe?e.heroe:t.heroe="Ingrese el heroe a buscar",t},onSubmit:function(t){var a=t.heroe;e(function(e){return function(){var t=Object(u.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{_(e).then((function(e){var t=e.data.results;t?(a(q(t)),localStorage.setItem("heroes",JSON.stringify(t))):b.a.fire("Heroe No encontrado")}))}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a))},children:function(){return Object(F.jsx)("div",{children:Object(F.jsxs)(D.c,{children:[Object(F.jsxs)("div",{className:"container form-group input-group mb-3 g-4",children:[Object(F.jsx)("button",{type:"submit",className:"input-group-text btn btn-primary",children:" Buscar Heroes "}),Object(F.jsx)(D.b,{type:"text",className:"form-control",placeholder:"Buscar Heroe",name:"heroe",autoComplete:"off"})]}),Object(F.jsx)(D.a,{className:"alert alert-danger",name:"heroe",component:"div"})]})})}}),Object(F.jsx)("div",{className:"row row-cols-1 row-cols-md-4 justify-content-center animate__animated animate__fadeIn",children:a.map((function(e){return Object(F.jsx)(J,Object(H.a)({},e),e.id)}))})]})},P=function(e){var t=e.id,a=e.connections,n=e.appearance,r=e.biography,c=e.image,s=e.name,i=e.powerstats,l=e.work,d=Object(o.b)(),u={id:t,connections:a,appearance:n,biography:r,image:c,name:s,powerstats:i,work:l};return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:"card me-md-2 mt-1 bg-dark",children:Object(F.jsxs)("div",{className:"col-12 justify-content-center",children:[Object(F.jsxs)("span",{className:"card-title col-12 bg-dark",children:[" ",s," "]}),Object(F.jsx)("img",{src:c.url,className:"card-img",alt:s}),Object(F.jsxs)("div",{className:"col-md-12",children:[Object(F.jsxs)("div",{className:"card-text",children:[" intelligence: ",i.intelligence," "]}),Object(F.jsxs)("div",{className:"card-text",children:[" Strength:     ",i.strength," "]}),Object(F.jsxs)("div",{className:"card-text",children:[" Speed:        ",i.speed," "]}),Object(F.jsxs)("div",{className:"card-text",children:[" Durability:   ",i.durability," "]}),Object(F.jsxs)("div",{className:"card-text",children:[" Power:        ",i.power," "]}),Object(F.jsxs)("div",{className:"card-text",children:[" Combat:       ",i.combat," "]}),Object(F.jsx)("button",{className:"btn btn-primary col-6",onClick:function(){d(function(e){return{type:v,payload:{modalInfo:!0,heroe:e}}}(u)),localStorage.setItem("heroeDetalle",JSON.stringify(u))},children:"Detalles"}),Object(F.jsx)("button",{className:"btn btn-danger col-6",onClick:function(){d(function(e){return{type:k,payload:{heroesEquipo:e}}}(u.id))},children:"Eliminar"})]})]})})})},T=function(){var e=Object(o.c)((function(e){return e.equipo})).heroesEquipo;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"container",children:[Object(F.jsx)("h3",{className:"text-center animate__animated animate__slideInDown",children:" Heroes del Equipo "}),Object(F.jsx)("div",{className:"row row-cols-1 row-cols-md-2  justify-content-center cards-columns animate__animated animate__fadeIn",children:e.map((function(e){return Object(F.jsx)(P,Object(H.a)({className:"container-sm"},e),e.id)}))})]})})},V=function(){var e=Object(o.b)(),t=function(){e({type:x,payload:{openModal:!0}})},a=Object(o.c)((function(e){return e.equipo})).heroesEquipo;return 6===a.length&&b.a.fire("Equipo completo"),Object(F.jsx)(F.Fragment,{children:a.length<=5?Object(F.jsx)("button",{className:"btn btn-primary",onClick:t,children:"Buscar Heroes"}):Object(F.jsx)("button",{disabled:!0,className:"btn btn-primary",onClick:t,children:"Buscar Heroes"})})},Z=function(){var e=Object(o.b)();return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(F.jsxs)("div",{className:"container-fluid",children:[Object(F.jsx)("span",{className:"navbar-brand",children:"Heroes App"}),Object(F.jsx)(V,{}),Object(F.jsx)("button",{className:"btn btn-danger text-end",onClick:function(){e((function(e){localStorage.clear(),e(E())}))},children:" Salir "})]})})})},$=function(){var e=Object(o.c)((function(e){return e.equipo.heroesEquipo})),t=e.map((function(e){return e.powerstats.intelligence})).map((function(e){return Number(e)})).reduceRight((function(e,t){return e+t}),0),a=e.map((function(e){return e.powerstats.strength})).map((function(e){return Number(e)})).reduceRight((function(e,t){return e+t}),0),n=e.map((function(e){return e.powerstats.speed})).map((function(e){return Number(e)})).reduceRight((function(e,t){return e+t}),0),r=e.map((function(e){return e.powerstats.durability})).map((function(e){return Number(e)})).reduceRight((function(e,t){return e+t}),0),c=e.map((function(e){return e.powerstats.power})).map((function(e){return Number(e)})).reduceRight((function(e,t){return e+t}),0),s=e.map((function(e){return e.powerstats.combat})).map((function(e){return Number(e)})).reduceRight((function(e,t){return e+t}),0);return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:"col-8 mt-4 animate__animated animate__backInDown",children:Object(F.jsxs)("ul",{className:"list-group list-group-flush ",children:[Object(F.jsx)("li",{className:"list-group-item list-group list-group-item-action m-1 list-group-item-primary text-center",children:" Estadisticas de Poder "}),Object(F.jsxs)("li",{className:"list-group-item list-group list-group-item-action m-1 list-group-item-primary",children:[" Inteligencia: ",(t/e.length).toFixed(2)," "]}),Object(F.jsxs)("li",{className:"list-group-item list-group list-group-item-action m-1 list-group-item-primary",children:[" Inteligencia: ",(t/e.length).toFixed(2)," "]}),Object(F.jsxs)("li",{className:"list-group-item list-group list-group-item-action m-1 list-group-item-primary",children:[" Fuerza      : ",(a/e.length).toFixed(2)," "]}),Object(F.jsxs)("li",{className:"list-group-item list-group list-group-item-action m-1 list-group-item-primary",children:[" Velocidad   : ",(n/e.length).toFixed(2)," "]}),Object(F.jsxs)("li",{className:"list-group-item list-group list-group-item-action m-1 list-group-item-primary",children:[" Durabilidad : ",(r/e.length).toFixed(2)," "]}),Object(F.jsxs)("li",{className:"list-group-item list-group list-group-item-action m-1 list-group-item-primary",children:[" Poder       : ",(c/e.length).toFixed(2)," "]}),Object(F.jsxs)("li",{className:"list-group-item list-group list-group-item-action m-1 list-group-item-primary",children:[" Combate     : ",(s/e.length).toFixed(2)," "]})]})})})},z=function(){return Object(F.jsxs)("div",{className:"container-fluid row",children:[Object(F.jsx)(Z,{}),Object(F.jsx)(L,{}),Object(F.jsx)("div",{className:"col-8",children:Object(F.jsx)(T,{})}),Object(F.jsx)("div",{className:"col-4",children:Object(F.jsx)($,{})}),Object(F.jsx)(R,{})]})},X=function(){var e=Object(o.b)();return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(D.d,{initialValues:{email:"challenge@alkemy.org",password:"react"},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email Requerido",e.password?/[A-Za-z\d$@$!%*?&]{4,6}/i.test(e.password)||(t.password="La clave debe ser tener mas de 4 caracteres"):t.password="contrase\xf1a Requerida",t},onSubmit:function(t){var a=t.email,n=t.password;e(function(e,t){return function(){var a=Object(u.a)(d.a.mark((function a(n){var r,c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,j.a.post("http://challenge-react.alkemy.org/",{email:e,password:t});case 3:r=a.sent,(c=r.data.token)&&localStorage.setItem("token",c),n(I(!!c)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),b.a.fire("Credenciales Incorrectas");case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a,n))},children:function(e){var t=e.errors;return Object(F.jsx)("div",{className:"modal-dialog text-center animate__animated animate__backInDown",children:Object(F.jsx)("div",{className:"col-sm-8 main-seccion ",children:Object(F.jsxs)("div",{className:"modal-content shadow-lg p-3 mb-5 bg-body rounded",children:[Object(F.jsx)("div",{className:"col-12 shadow-sm p-1 mb-1 bg-body rounded",children:Object(F.jsx)("h2",{className:"shadow-sm p-3 mb-1 bg-dark text-primary rounded",children:" Ingresar "})}),Object(F.jsxs)(D.c,{className:"col-12",children:[Object(F.jsxs)("div",{className:"form-group m-4",children:[Object(F.jsx)(D.b,{type:"email",className:"form-control shadow-lg p-2 mb-0 bg-body rounded",placeholder:"Email",name:"email"}),Object(F.jsx)(D.a,{name:"email",component:function(){return Object(F.jsxs)("div",{className:"text-start text-danger",children:[" ",t.email," "]})}})]}),Object(F.jsxs)("div",{className:"form-group m-4",children:[Object(F.jsx)(D.b,{type:"password",className:"form-control shadow-lg p-2 mt-5 mb-0 bg-body rounded",placeholder:"Contrase\xf1a",name:"password"}),Object(F.jsx)(D.a,{name:"password",component:function(){return Object(F.jsxs)("div",{className:"text-start text-danger",children:[" ",t.password," "]})}})]}),Object(F.jsx)("div",{className:"form-group m-4",children:Object(F.jsx)("button",{type:"submit",className:"btn btn-primary mt-5 shadow-p-3 rounded col-8",children:" Ingresar "})})]})]})})})}})})},U=a(31),G=["isAuthenticated","component"],K=function(e){var t=e.isAuthenticated,a=e.component,n=Object(U.a)(e,G);return Object(F.jsx)(i.b,Object(H.a)(Object(H.a)({},n),{},{component:function(e){return t?Object(F.jsx)(a,Object(H.a)({},e)):Object(F.jsx)(i.a,{to:"/login"})}}))},Q=["isAuthenticated","component"],W=function(e){var t=e.isAuthenticated,a=e.component,n=Object(U.a)(e,Q);return Object(F.jsx)(i.b,Object(H.a)(Object(H.a)({},n),{},{component:function(e){return t?Object(F.jsx)(i.a,{to:"/"}):Object(F.jsx)(a,Object(H.a)({},e))}}))},Y=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.logueado})).check;return Object(n.useEffect)((function(){var t=localStorage.getItem("token");t&&e(I(!!t));var a=localStorage.getItem("heroes");a&&e(q(JSON.parse(a)))}),[e]),Object(F.jsx)("div",{children:Object(F.jsx)(s.a,{children:Object(F.jsx)("div",{children:Object(F.jsxs)(i.d,{children:[Object(F.jsx)(W,{path:"/login",component:X,isAuthenticated:t}),Object(F.jsx)(K,{exact:!0,isAuthenticated:t,path:"/",component:z}),Object(F.jsx)(i.a,{to:"/login"})]})})})})},ee=a(24),te=a(55),ae={logueado:!1,check:!1},ne=a(56),re={heroesEquipo:[]},ce={openModal:!1},oe={modalInfo:!1},se={heroes:[]},ie=Object(ee.b)({logueado:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{logueado:t.payload.logueado,check:!0};case O:case g:return{check:!1};default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{openModal:!0};case f:return{openModal:!1};default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;return t.type===y?{heroes:t.payload.heroes}:e},equipo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(H.a)(Object(H.a)({},e),{},{heroesEquipo:[].concat(Object(ne.a)(e.heroesEquipo),[t.payload.heroesEquipo])});case k:return{heroesEquipo:e.heroesEquipo.filter((function(e){return e.id!==t.payload.heroesEquipo}))};default:return e}},modalInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{modalInfo:!0};case N:return{modalInfo:!1};default:return e}}}),le="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ee.c,de=Object(ee.d)(ie,le(Object(ee.a)(te.a))),ue=function(){return Object(F.jsx)(o.a,{store:de,children:Object(F.jsx)(Y,{})})};a(104);c.a.render(Object(F.jsx)(ue,{}),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.a07c99fd.chunk.js.map