(this.webpackJsonpheroesapp=this.webpackJsonpheroesapp||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(22),r=a.n(c),s=a(3),o=a(28),i=a(4),l=a(14),d=a.n(l),u=a(19),j=a(23),m=a.n(j),b=a(20),p=a.n(b),h="[Auth] Login",O="[Auth] Logout",x="[Auth] Check",f="[Modal] Open Search",g="[Modal] Close Search",v="[ModalInfo] Open Info",N="[ModalInfo] Close Info",y="[Heroes] Search",w="[Heroe] Equipo",k="[Heroe] Eliminado",E=function(e){return{type:h,payload:{logueado:e}}},I=function(){return{type:O,payload:{logueado:!1}}},S=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()("https://superheroapi.com/api.php/10227697953733690/search/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(e){return{type:y,payload:{heroes:e}}},_=a(21),A=a.n(_),C=function(){return{type:g,payload:{openModal:!1}}},M=a(1),R={content:{color:"black",top:"50%",left:"50%",right:"auto",bottom:"auto"}};A.a.setAppElement("#root");var H=function(){var e=Object(s.c)((function(e){return e.modalInfo})).modalInfo,t=localStorage.getItem("heroeDetalle"),a=JSON.parse(t),n=Object(s.b)();return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(A.a,{isOpen:e,onRequestClose:function(){n({type:N,payload:{modalInfo:!1}})},style:R,closeTimeoutMS:200,className:"modal-info bg-ligth",overlayClassName:"modal-fondo",children:a&&Object(M.jsxs)("div",{className:"row g-0",children:[Object(M.jsx)("h1",{children:"Informacion del Heroe"}),Object(M.jsx)("div",{className:"col-md-6",children:Object(M.jsx)("img",{src:a.image.url,className:"img-fluid rounded-start",alt:"..."})}),Object(M.jsx)("div",{className:"col-md-6",children:Object(M.jsxs)("div",{className:"card-body",children:[Object(M.jsxs)("p",{className:"card-text",children:["Nombre:           ",a.name," "]}),Object(M.jsxs)("p",{className:"card-text",children:["Peso:             ",a.appearance.weight[1]]}),Object(M.jsxs)("p",{className:"card-text",children:["Altura:           ",a.appearance.height[1],"  "]}),Object(M.jsxs)("p",{className:"card-text",children:["Alias:            ",a.biography.aliases[0]]}),Object(M.jsxs)("p",{className:"card-text",children:["Lugar de Trabajo: ",a.work.occupation]})]})})]})})})},D=a(6),F=a(13),J=function(e){var t=e.id,a=e.connections,n=e.appearance,c=e.biography,r=e.image,o=e.name,i=e.powerstats,l=e.work,d=Object(s.b)(),u={id:t,connections:a,appearance:n,biography:c,image:r,name:o,powerstats:i,work:l};return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card mr-3 m-3 col-3",children:[Object(M.jsx)("h5",{className:"card-title",children:o}),Object(M.jsx)("img",{src:r.url,className:"card-img-top",alt:"..."}),Object(M.jsx)("div",{className:"card-body",children:Object(M.jsx)("p",{className:"card-text",children:c.alignment})}),Object(M.jsx)("button",{className:"btn btn-primary m-3",onClick:function(){d({type:w,payload:{heroesEquipo:u}}),d(C())},children:"Agregar al equipo"})]})})},B=(a(51),{content:{color:"black",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}});A.a.setAppElement("#root");var L=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.modal})).openModal,a=Object(s.c)((function(e){return e.search})).heroes;return Object(M.jsxs)(A.a,{isOpen:t,onRequestClose:function(){e(C())},style:B,closeTimeoutMS:200,className:"modal bg-dark justify-content-center",overlayClassName:"modal-fondo",children:[Object(M.jsx)(F.d,{initialValues:{heroe:""},validate:function(e){var t={};return e.heroe?e.heroe:t.heroe="Ingrese el heroe a buscar",t},onSubmit:function(t){var a=t.heroe;e(function(e){return function(){var t=Object(u.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{S(e).then((function(e){var t=e.data.results;t?(a(q(t)),localStorage.setItem("heroes",JSON.stringify(t))):p.a.fire("Heroe No encontrado")}))}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a))},children:function(){return Object(M.jsx)("div",{children:Object(M.jsxs)(F.c,{children:[Object(M.jsxs)("div",{className:"container form-group input-group mb-3 g-4",children:[Object(M.jsx)("button",{type:"submit",className:"input-group-text btn btn-primary",children:" Buscar Heroes "}),Object(M.jsx)(F.b,{type:"text",className:"form-control",placeholder:"Buscar Heroe",name:"heroe",autoComplete:"off"})]}),Object(M.jsx)(F.a,{className:"alert alert-danger",name:"heroe",component:"div"})]})})}}),Object(M.jsx)("div",{className:"row row-cols-1 row-cols-md-4 justify-content-center animate__animated animate__pulse",children:a.map((function(e){return Object(M.jsx)(J,Object(D.a)({},e),e.id)}))})]})},T=function(){var e=Object(s.b)(),t=function(){e({type:f,payload:{openModal:!0}})},a=Object(s.c)((function(e){return e.equipo})).heroesEquipo;return 6===a.length&&p.a.fire("Equipo completo"),Object(M.jsx)(M.Fragment,{children:a.length<=5?Object(M.jsx)("button",{className:"btn btn-primary",onClick:t,children:"Buscar Heroes"}):Object(M.jsx)("button",{disabled:!0,className:"btn btn-primary",onClick:t,children:"Buscar Heroes"})})},P=function(e){var t=e.id,a=e.connections,n=e.appearance,c=e.biography,r=e.image,o=e.name,i=e.powerstats,l=e.work,d=Object(s.b)(),u={id:t,connections:a,appearance:n,biography:c,image:r,name:o,powerstats:i,work:l};return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("div",{className:"card m-2 bg-dark",children:Object(M.jsxs)("div",{className:"col",children:[Object(M.jsxs)("span",{className:"card-title",children:[" ",o," "]}),Object(M.jsx)("img",{src:r.url,className:"card-img",alt:o}),Object(M.jsxs)("div",{className:"col-md-12",children:[Object(M.jsxs)("div",{className:"card-text",children:[" intelligence: ",i.intelligence," "]}),Object(M.jsxs)("div",{className:"card-text",children:[" Strength:     ",i.strength," "]}),Object(M.jsxs)("div",{className:"card-text",children:[" Speed:        ",i.speed," "]}),Object(M.jsxs)("div",{className:"card-text",children:[" Durability:   ",i.durability," "]}),Object(M.jsxs)("div",{className:"card-text",children:[" Power:        ",i.power," "]}),Object(M.jsxs)("div",{className:"card-text",children:[" Combat:       ",i.combat," "]}),Object(M.jsx)("button",{className:"btn btn-primary col-6",onClick:function(){d(function(e){return{type:v,payload:{modalInfo:!0,heroe:e}}}(u)),localStorage.setItem("heroeDetalle",JSON.stringify(u))},children:"Detalles"}),Object(M.jsx)("button",{className:"btn btn-danger col-6",onClick:function(){d(function(e){return{type:k,payload:{heroesEquipo:e}}}(u.id))},children:"Eliminar"})]})]})})})},Z=function(){var e=Object(s.c)((function(e){return e.equipo})).heroesEquipo;return Object(M.jsxs)(M.Fragment,{children:["  ",Object(M.jsx)("div",{className:"container-sm",children:Object(M.jsx)("div",{className:"row row-cols-1 row-cols-md-3 cards-columns animate__animated animate__pulse",children:e.map((function(e){return Object(M.jsx)(P,Object(D.a)({className:"container-sm"},e),e.id)}))})})]})},V=function(){var e=Object(s.b)();return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(M.jsxs)("div",{className:"container-fluid",children:[Object(M.jsx)("span",{className:"navbar-brand",href:"#",children:"Heroes App"}),Object(M.jsx)("button",{className:"btn btn-danger text-end",onClick:function(){e((function(e){localStorage.clear(),e(I())}))},children:" Salir "})]})})})},$=function(){var e=Object(s.c)((function(e){return e.equipo.heroesEquipo})),t=e.map((function(e){return e.powerstats.intelligence})).map((function(e){return Number(e)})).reduceRight((function(e,t){return e+t}),0),a=e.map((function(e){return e.powerstats.strength})).map((function(e){return Number(e)})).reduceRight((function(e,t){return e+t}),0),n=e.map((function(e){return e.powerstats.speed})).map((function(e){return Number(e)})).reduceRight((function(e,t){return e+t}),0),c=e.map((function(e){return e.powerstats.durability})).map((function(e){return Number(e)})).reduceRight((function(e,t){return e+t}),0),r=e.map((function(e){return e.powerstats.power})).map((function(e){return Number(e)})).reduceRight((function(e,t){return e+t}),0),o=e.map((function(e){return e.powerstats.combat})).map((function(e){return Number(e)})).reduceRight((function(e,t){return e+t}),0);return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"col-md-12 m-5",children:[Object(M.jsxs)("div",{className:"powerStats",children:["Intelligence:  ",t/e.length," "]}),Object(M.jsxs)("div",{className:"card-text",children:[" Strength:      ",a/e.length," "]}),Object(M.jsxs)("div",{className:"card-text",children:[" Speed:         ",n/e.length," "]}),Object(M.jsxs)("div",{className:"card-text",children:[" Durability:    ",c/e.length," "]}),Object(M.jsxs)("div",{className:"card-text",children:[" Power:         ",r/e.length," "]}),Object(M.jsxs)("div",{className:"card-text",children:[" Combat:        ",o/e.length," "]})]})})},X=function(){return Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)(V,{}),Object(M.jsx)(L,{}),Object(M.jsx)("div",{className:"col-1",children:Object(M.jsx)(T,{})}),Object(M.jsx)("div",{className:" col-6 ",children:Object(M.jsx)(Z,{className:"col"})}),Object(M.jsxs)("div",{className:"col-4",children:[Object(M.jsx)("h3",{children:" powerstats promedios del Equipo "}),Object(M.jsx)($,{})]}),Object(M.jsx)(H,{})]})},z=function(){var e=Object(s.b)();return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(F.d,{initialValues:{email:"challenge@alkemy.org",password:"react"},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email Requerido",e.password?/[A-Za-z\d$@$!%*?&]{4,6}/i.test(e.password)||(t.password="La clave debe ser tener mas de 4 caracteres"):t.password="contrase\xf1a Requerida",t},onSubmit:function(t){var a=t.email,n=t.password;e(function(e,t){return function(){var a=Object(u.a)(d.a.mark((function a(n){var c,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,m.a.post("http://challenge-react.alkemy.org/",{email:e,password:t});case 3:c=a.sent,(r=c.data.token)&&localStorage.setItem("token",r),n(E(!!r)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),p.a.fire("Credenciales Incorrectas");case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a,n))},children:function(e){var t=e.errors;return Object(M.jsx)("div",{className:"modal-dialog text-center animate__animated animate__backInDown",children:Object(M.jsx)("div",{className:"col-sm-8 main-seccion ",children:Object(M.jsxs)("div",{className:"modal-content shadow-lg p-3 mb-5 bg-body rounded",children:[Object(M.jsx)("div",{className:"col-12 shadow-sm p-1 mb-1 bg-body rounded",children:Object(M.jsx)("h2",{className:"shadow-sm p-3 mb-1 bg-dark text-primary rounded",children:" Ingresar "})}),Object(M.jsxs)(F.c,{className:"col-12",children:[Object(M.jsxs)("div",{className:"form-group m-4",children:[Object(M.jsx)(F.b,{type:"email",className:"form-control shadow-lg p-2 mb-0 bg-body rounded",placeholder:"Email",name:"email"}),Object(M.jsx)(F.a,{name:"email",component:function(){return Object(M.jsxs)("div",{className:"text-start text-danger",children:[" ",t.email," "]})}})]}),Object(M.jsxs)("div",{className:"form-group m-4",children:[Object(M.jsx)(F.b,{type:"password",className:"form-control shadow-lg p-2 mt-5 mb-0 bg-body rounded",placeholder:"Contrase\xf1a",name:"password"}),Object(M.jsx)(F.a,{name:"password",component:function(){return Object(M.jsxs)("div",{className:"text-start text-danger",children:[" ",t.password," "]})}})]}),Object(M.jsx)("div",{className:"form-group m-4",children:Object(M.jsx)("button",{type:"submit",className:"btn btn-primary mt-5 shadow-p-3 rounded col-8",children:" Ingresar "})})]})]})})})}})})},U=a(31),G=["isAuthenticated","component"],K=function(e){var t=e.isAuthenticated,a=e.component,n=Object(U.a)(e,G);return Object(M.jsx)(i.b,Object(D.a)(Object(D.a)({},n),{},{component:function(e){return t?Object(M.jsx)(a,Object(D.a)({},e)):Object(M.jsx)(i.a,{to:"/login"})}}))},Q=["isAuthenticated","component"],W=function(e){var t=e.isAuthenticated,a=e.component,n=Object(U.a)(e,Q);return Object(M.jsx)(i.b,Object(D.a)(Object(D.a)({},n),{},{component:function(e){return t?Object(M.jsx)(i.a,{to:"/"}):Object(M.jsx)(a,Object(D.a)({},e))}}))},Y=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.logueado})).check;return Object(n.useEffect)((function(){var t=localStorage.getItem("token");t&&e(E(!!t));var a=localStorage.getItem("heroes");a&&e(q(JSON.parse(a)))}),[e]),Object(M.jsx)("div",{children:Object(M.jsx)(o.a,{children:Object(M.jsx)("div",{children:Object(M.jsxs)(i.d,{children:[Object(M.jsx)(W,{path:"/login",component:z,isAuthenticated:t}),Object(M.jsx)(K,{exact:!0,isAuthenticated:t,path:"/",component:X}),Object(M.jsx)(i.a,{to:"/login"})]})})})})},ee=a(24),te=a(55),ae={logueado:!1,check:!1},ne=a(56),ce={heroesEquipo:[]},re={openModal:!1},se={modalInfo:!1},oe={heroes:[]},ie=Object(ee.b)({logueado:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{logueado:t.payload.logueado,check:!0};case x:case O:return{check:!1};default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{openModal:!0};case g:return{openModal:!1};default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;return t.type===y?{heroes:t.payload.heroes}:e},equipo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(D.a)(Object(D.a)({},e),{},{heroesEquipo:[].concat(Object(ne.a)(e.heroesEquipo),[t.payload.heroesEquipo])});case k:return{heroesEquipo:e.heroesEquipo.filter((function(e){return e.id!==t.payload.heroesEquipo}))};default:return e}},modalInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{modalInfo:!0};case N:return{modalInfo:!1};default:return e}}}),le="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ee.c,de=Object(ee.d)(ie,le(Object(ee.a)(te.a))),ue=function(){return Object(M.jsx)(s.a,{store:de,children:Object(M.jsx)(Y,{})})};a(104);r.a.render(Object(M.jsx)(ue,{}),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.94a14393.chunk.js.map